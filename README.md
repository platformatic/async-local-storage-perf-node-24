
# Node.js v24

## AsyncLocalStorage

```bash
n"px autocannon -c 100 -p 10 -d 10  -W [ -c 100 -d 5] http://localhost:3000
Running 5s warmup @ http://localhost:3000
100 connections with 10 pipelining factor

Running 10s test @ http://localhost:3000
100 connections with 10 pipelining factor


┌─────────┬──────┬──────┬───────┬───────┬─────────┬─────────┬────────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%   │ Avg     │ Stdev   │ Max    │
├─────────┼──────┼──────┼───────┼───────┼─────────┼─────────┼────────┤
│ Latency │ 3 ms │ 4 ms │ 9 ms  │ 10 ms │ 5.75 ms │ 2.99 ms │ 214 ms │
└─────────┴──────┴──────┴───────┴───────┴─────────┴─────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬────────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg        │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼────────────┼─────────┼─────────┤
│ Req/Sec   │ 152,319 │ 152,319 │ 162,303 │ 163,711 │ 160,424.73 │ 3,672.2 │ 152,207 │
├───────────┼─────────┼─────────┼─────────┼─────────┼────────────┼─────────┼─────────┤
│ Bytes/Sec │ 29.2 MB │ 29.2 MB │ 31.1 MB │ 31.4 MB │ 30.8 MB    │ 703 kB  │ 29.2 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴────────────┴─────────┴─────────┘

Req/Bytes counts sampled once per second.
# of samples: 11

1766k requests in 11.01s, 338 MB read
```

## No AsyncLocalStorage

```bash
npx autocannon -c 100 -p 10 -d 10  -W [ -c 100 -d 5] http://localhost:3000
Running 5s warmup @ http://localhost:3000
100 connections with 10 pipelining factor

Running 10s test @ http://localhost:3000
100 connections with 10 pipelining factor


┌─────────┬──────┬──────┬───────┬───────┬─────────┬─────────┬────────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%   │ Avg     │ Stdev   │ Max    │
├─────────┼──────┼──────┼───────┼───────┼─────────┼─────────┼────────┤
│ Latency │ 3 ms │ 4 ms │ 8 ms  │ 10 ms │ 5.71 ms │ 3.23 ms │ 233 ms │
└─────────┴──────┴──────┴───────┴───────┴─────────┴─────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬────────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg        │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼────────────┼──────────┼─────────┤
│ Req/Sec   │ 157,055 │ 157,055 │ 164,735 │ 166,271 │ 163,729.46 │ 2,768.68 │ 157,038 │
├───────────┼─────────┼─────────┼─────────┼─────────┼────────────┼──────────┼─────────┤
│ Bytes/Sec │ 30.1 MB │ 30.1 MB │ 31.6 MB │ 31.9 MB │ 31.4 MB    │ 533 kB   │ 30.1 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴────────────┴──────────┴─────────┘

Req/Bytes counts sampled once per second.
# of samples: 11

1802k requests in 11s, 345 MB read
```

## Fastify OpenTelemetry

```bash
npx autocannon -c 100 -p 10 -d 10  -W [ -c 100 -d 5] http://localhost:3000
Running 5s warmup @ http://localhost:3000
100 connections with 10 pipelining factor

Running 10s test @ http://localhost:3000
100 connections with 10 pipelining factor


┌─────────┬───────┬───────┬───────┬───────┬──────────┬──────────┬─────────┐
│ Stat    │ 2.5%  │ 50%   │ 97.5% │ 99%   │ Avg      │ Stdev    │ Max     │
├─────────┼───────┼───────┼───────┼───────┼──────────┼──────────┼─────────┤
│ Latency │ 12 ms │ 27 ms │ 57 ms │ 65 ms │ 31.29 ms │ 39.66 ms │ 1448 ms │
└─────────┴───────┴───────┴───────┴───────┴──────────┴──────────┴─────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┤
│ Req/Sec   │ 27,983  │ 27,983  │ 32,031  │ 32,799  │ 31,388  │ 1,432.58 │ 27,970  │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┤
│ Bytes/Sec │ 4.92 MB │ 4.92 MB │ 5.64 MB │ 5.77 MB │ 5.52 MB │ 253 kB   │ 4.92 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴──────────┴─────────┘

Req/Bytes counts sampled once per second.
# of samples: 10

315k requests in 10.01s, 55.2 MB read
```

### Fastify

```bash
npx autocannon -c 100 -p 10 -d 10  -W [ -c 100 -d 5] http://localhost:3000
Running 5s warmup @ http://localhost:3000
100 connections with 10 pipelining factor

Running 10s test @ http://localhost:3000
100 connections with 10 pipelining factor


┌─────────┬──────┬──────┬───────┬───────┬─────────┬─────────┬────────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%   │ Avg     │ Stdev   │ Max    │
├─────────┼──────┼──────┼───────┼───────┼─────────┼─────────┼────────┤
│ Latency │ 3 ms │ 4 ms │ 8 ms  │ 10 ms │ 5.68 ms │ 3.01 ms │ 218 ms │
└─────────┴──────┴──────┴───────┴───────┴─────────┴─────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬────────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg        │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼────────────┼──────────┼─────────┤
│ Req/Sec   │ 157,183 │ 157,183 │ 168,575 │ 169,343 │ 166,440.73 │ 3,477.62 │ 157,168 │
├───────────┼─────────┼─────────┼─────────┼─────────┼────────────┼──────────┼─────────┤
│ Bytes/Sec │ 27.7 MB │ 27.7 MB │ 29.7 MB │ 29.8 MB │ 29.3 MB    │ 610 kB   │ 27.7 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴────────────┴──────────┴─────────┘

Req/Bytes counts sampled once per second.
# of samples: 11

1832k requests in 11s, 322 MB read
```


# Node.js v22

## AsyncLocalStorage

```bash
npx autocannon -c 100 -p 10 -d 10  -W [ -c 100 -d 5] http://localhost:3000
Running 5s warmup @ http://localhost:3000
100 connections with 10 pipelining factor

Running 10s test @ http://localhost:3000
100 connections with 10 pipelining factor


┌─────────┬──────┬──────┬───────┬───────┬────────┬─────────┬────────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%   │ Avg    │ Stdev   │ Max    │
├─────────┼──────┼──────┼───────┼───────┼────────┼─────────┼────────┤
│ Latency │ 4 ms │ 4 ms │ 10 ms │ 11 ms │ 6.1 ms │ 3.78 ms │ 256 ms │
└─────────┴──────┴──────┴───────┴───────┴────────┴─────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬────────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg        │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼────────────┼──────────┼─────────┤
│ Req/Sec   │ 142,463 │ 142,463 │ 150,527 │ 151,935 │ 149,393.46 │ 2,703.35 │ 142,401 │
├───────────┼─────────┼─────────┼─────────┼─────────┼────────────┼──────────┼─────────┤
│ Bytes/Sec │ 27.3 MB │ 27.3 MB │ 28.9 MB │ 29.1 MB │ 28.6 MB    │ 519 kB   │ 27.3 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴────────────┴──────────┴─────────┘

Req/Bytes counts sampled once per second.
# of samples: 11

1644k requests in 11.01s, 315 MB read
```

## No AsyncLocalStorage

```bash
npx autocannon -c 100 -p 10 -d 10  -W [ -c 100 -d 5] http://localhost:3000
Running 5s warmup @ http://localhost:3000
100 connections with 10 pipelining factor

Running 10s test @ http://localhost:3000
100 connections with 10 pipelining factor


┌─────────┬──────┬──────┬───────┬───────┬─────────┬─────────┬────────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%   │ Avg     │ Stdev   │ Max    │
├─────────┼──────┼──────┼───────┼───────┼─────────┼─────────┼────────┤
│ Latency │ 3 ms │ 4 ms │ 9 ms  │ 10 ms │ 5.72 ms │ 3.25 ms │ 233 ms │
└─────────┴──────┴──────┴───────┴───────┴─────────┴─────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬────────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg        │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼────────────┼──────────┼─────────┤
│ Req/Sec   │ 157,055 │ 157,055 │ 163,455 │ 165,759 │ 162,961.46 │ 2,602.86 │ 156,937 │
├───────────┼─────────┼─────────┼─────────┼─────────┼────────────┼──────────┼─────────┤
│ Bytes/Sec │ 30.1 MB │ 30.1 MB │ 31.3 MB │ 31.8 MB │ 31.2 MB    │ 505 kB   │ 30.1 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴────────────┴──────────┴─────────┘

Req/Bytes counts sampled once per second.
# of samples: 11

1793k requests in 11s, 344 MB read
```

## Fastify OpenTelemetry

```bash
npx autocannon -c 100 -p 10 -d 10  -W [ -c 100 -d 5] http://localhost:3000
Running 5s warmup @ http://localhost:3000
100 connections with 10 pipelining factor

Running 10s test @ http://localhost:3000
100 connections with 10 pipelining factor


┌─────────┬───────┬───────┬───────┬───────┬──────────┬──────────┬─────────┐
│ Stat    │ 2.5%  │ 50%   │ 97.5% │ 99%   │ Avg      │ Stdev    │ Max     │
├─────────┼───────┼───────┼───────┼───────┼──────────┼──────────┼─────────┤
│ Latency │ 12 ms │ 28 ms │ 58 ms │ 64 ms │ 31.73 ms │ 40.59 ms │ 1477 ms │
└─────────┴───────┴───────┴───────┴───────┴──────────┴──────────┴─────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┤
│ Req/Sec   │ 27,423  │ 27,423  │ 31,471  │ 32,127  │ 31,000  │ 1,372.26 │ 27,411  │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┤
│ Bytes/Sec │ 4.83 MB │ 4.83 MB │ 5.54 MB │ 5.66 MB │ 5.46 MB │ 242 kB   │ 4.82 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴──────────┴─────────┘

Req/Bytes counts sampled once per second.
# of samples: 10

311k requests in 10.01s, 54.6 MB read
```

## Fastify

```bash
npx autocannon -c 100 -p 10 -d 10  -W [ -c 100 -d 5] http://localhost:3000                                             Running 5s warmup @ http://localhost:3000
100 connections with 10 pipelining factor

Running 10s test @ http://localhost:3000
100 connections with 10 pipelining factor


┌─────────┬──────┬──────┬───────┬──────┬─────────┬───────┬────────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%  │ Avg     │ Stdev │ Max    │
├─────────┼──────┼──────┼───────┼──────┼─────────┼───────┼────────┤
│ Latency │ 3 ms │ 4 ms │ 8 ms  │ 9 ms │ 5.67 ms │ 3 ms  │ 214 ms │
└─────────┴──────┴──────┴───────┴──────┴─────────┴───────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬───────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg       │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼───────────┼──────────┼─────────┤
│ Req/Sec   │ 154,239 │ 154,239 │ 167,807 │ 169,599 │ 166,685.1 │ 4,073.06 │ 154,188 │
├───────────┼─────────┼─────────┼─────────┼─────────┼───────────┼──────────┼─────────┤
│ Bytes/Sec │ 27.1 MB │ 27.1 MB │ 29.5 MB │ 29.9 MB │ 29.3 MB   │ 715 kB   │ 27.1 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴───────────┴──────────┴─────────┘

Req/Bytes counts sampled once per second.
# of samples: 11

1834k requests in 11s, 323 MB read
```
